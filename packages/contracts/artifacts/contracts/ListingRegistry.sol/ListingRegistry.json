{
  "_format": "hh-sol-artifact-1",
  "contractName": "ListingRegistry",
  "sourceName": "contracts/ListingRegistry.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "identityRegistry_",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "listingURI",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "paymentToken",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "basePrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "unitType",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "unitPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "minUnits",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "maxUnits",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "quoteRequired",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "challengeWindowSec",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "postDisputeWindowSec",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "uint16",
          "name": "sellerBondBps",
          "type": "uint16"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "name": "ListingCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "listingURI",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "name": "ListingUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "listingURI",
          "type": "string"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "paymentToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "basePrice",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "unitType",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "unitPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint32",
              "name": "minUnits",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "maxUnits",
              "type": "uint32"
            },
            {
              "internalType": "bool",
              "name": "quoteRequired",
              "type": "bool"
            }
          ],
          "internalType": "struct ListingRegistry.Pricing",
          "name": "pricing",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "uint32",
              "name": "challengeWindowSec",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "postDisputeWindowSec",
              "type": "uint32"
            },
            {
              "internalType": "uint16",
              "name": "sellerBondBps",
              "type": "uint16"
            }
          ],
          "internalType": "struct ListingRegistry.Policy",
          "name": "policy",
          "type": "tuple"
        }
      ],
      "name": "createListing",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        }
      ],
      "name": "getListing",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "listingURI",
          "type": "string"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "paymentToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "basePrice",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "unitType",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "unitPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint32",
              "name": "minUnits",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "maxUnits",
              "type": "uint32"
            },
            {
              "internalType": "bool",
              "name": "quoteRequired",
              "type": "bool"
            }
          ],
          "internalType": "struct ListingRegistry.Pricing",
          "name": "pricing",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "uint32",
              "name": "challengeWindowSec",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "postDisputeWindowSec",
              "type": "uint32"
            },
            {
              "internalType": "uint16",
              "name": "sellerBondBps",
              "type": "uint16"
            }
          ],
          "internalType": "struct ListingRegistry.Policy",
          "name": "policy",
          "type": "tuple"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "identityRegistry",
      "outputs": [
        {
          "internalType": "contract IAgentIdentityRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "listingURI",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "name": "updateListing",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60a0346100d357601f610e0c38819003918201601f19168301916001600160401b038311848410176100d8578084926020946040528339810103126100d357516001600160a01b038116908190036100d3576001600055801561007e57608052604051610d1d90816100ef82396080518181816106380152610b2a0152f35b60405162461bcd60e51b815260206004820152602760248201527f4c697374696e6752656769737472793a207a65726f206964656e7469747920726044820152666567697374727960c81b6064820152608490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe608080604052600436101561001357600080fd5b60003560e01c908163107a274a1461066757508063134e18f414610622578063809c232a146104475763ae5ab77a1461004b57600080fd5b34610442576101803660031901126104425767ffffffffffffffff6024358181116104425761007e903690600401610908565b919060e036604319011261044257606036610123190112610442576100a4600435610b07565b60005491600019831461042c576001830160005582600052600160205260406000209060043582558411610416576100df6001820154610990565b601f81116103cb575b5060209383916000601f831160011461033157826008610180937fe037f3b6e721a7839a663d6c3932805f786573c7319e054129a4eb6e9116b2049561ffff94600091610326575b508360011b906000198560031b1c19161760018201555b600281016001600160a01b0361015b6109eb565b82546001600160a01b03191691161790556064356003820155608435600482015560a43560058201556006810163ffffffff610195610a01565b169063ffffffff1991828254161781556101d26101b0610a14565b825467ffffffff00000000191660209190911b67ffffffff0000000016178255565b6101da610a4f565b815468ff0000000000000000191690151560401b68ff000000000000000016179055600782019063ffffffff61020e610a27565b16908254161781556102216101b0610a3b565b610229610a5f565b61ffff60401b82549160401b169061ffff60401b19161790550160ff19906001828254161790558560005260028952600160406000209182541617905563ffffffff6102736109eb565b968161027d610a01565b610285610a14565b8261028e610a4f565b9181610298610a27565b946102bd6102a4610a3b565b986102ad610a5f565b9b6040519e8f81815201916109ca565b6001600160a01b03909f1660208d015260643560408d015260843560608d015260a43560808d01521660a08b01521660c0890152151560e088015216610100860152166101208401521661014082015260016101608201526004359381900390a3604051908152f35b905088013538610130565b60018201600052866000209060005b601f19851681106103b157509260086101809361ffff937fe037f3b6e721a7839a663d6c3932805f786573c7319e054129a4eb6e9116b2049684601f19811610610397575b5050600183811b016001820155610147565b890135600019600386901b60f8161c191690553880610385565b868201358355879550600190920191908801908801610340565b600182016000526020600020601f860160051c8101916020871061040c575b601f0160051c01905b81811061040057506100e8565b600081556001016103f3565b90915081906103ea565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600080fd5b346104425760603660031901126104425767ffffffffffffffff6004356024358281116104425761047c903690600401610908565b9190604435928315158094036104425761049583610a71565b61049f8154610b07565b600195868201908311610416576104b68154610990565b601f81116105d7575b50600096601f841160011461054e578380917f89c673d999ebc8ce5b71c67287391e8f745769c11528a7b19a4709e4059897a2979899600093610543575b501b906000198560031b1c19161790555b6008810160ff1981541660ff881617905554946105386040519384936040855260408501916109ca565b9060208301520390a3005b87013592508a6104fd565b601f19841697826000526020906020600020916000905b8b82106105c0575050857f89c673d999ebc8ce5b71c67287391e8f745769c11528a7b19a4709e4059897a298999a106105a6575b505083811b01905561050e565b860135600019600387901b60f8161c191690558880610599565b808584958294958c01358155019401920190610565565b816000526020600020601f850160051c81019160208610610618575b601f0160051c019088905b82811061060c5750506104bf565b600081550188906105fe565b90915081906105f3565b34610442576000366003190112610442576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346104425760203660031901126104425760c081610686600093610936565b8281528260208201528260408201528260608201528260808201528260a082015201526000604080516106b881610952565b82815282602082015201526106ce600435610a71565b805490600190600181019060ff6008820154169160405180946000908354936106f685610990565b80855294600181169081156108e457506001146108a2575b505061072192509593949295038261096e565b6040519261072e84610936565b60018060a01b03600286015416845260038501546020850152600485015460408501526005850154606085015260ff600686015463ffffffff8116608087015263ffffffff8160201c1660a087015260401c16151560c085015261ffff60076040519661079a88610952565b015463ffffffff8116875263ffffffff8160201c16602088015260401c16604086015260405194859384526101a06020850152825192836101a086015260005b848110610889575050604061ffff9160c06101c097600089888a01015260018060a01b038151168489015260208101516060890152838101516080890152606081015160a089015263ffffffff6080820151168289015263ffffffff60a08201511660e08901520151151561010087015263ffffffff81511661012087015263ffffffff6020820151166101408701520151166101608401521515610180830152601f80199101168101030190f35b60208282018101516101c08a84010152889650016107da565b6000908152602081209092505b8483106108c957506107219350508101602001878061070e565b81935090816020925483858b010152019101909186926108af565b9150506020925061072194915060ff191682840152151560051b820101878061070e565b9181601f840112156104425782359167ffffffffffffffff8311610442576020838186019501011161044257565b60e0810190811067ffffffffffffffff82111761041657604052565b6060810190811067ffffffffffffffff82111761041657604052565b90601f8019910116810190811067ffffffffffffffff82111761041657604052565b90600182811c921680156109c0575b60208310146109aa57565b634e487b7160e01b600052602260045260246000fd5b91607f169161099f565b908060209392818452848401376000828201840152601f01601f1916010190565b6044356001600160a01b03811681036104425790565b60c43563ffffffff811681036104425790565b60e43563ffffffff811681036104425790565b6101243563ffffffff811681036104425790565b6101443563ffffffff811681036104425790565b6101043580151581036104425790565b6101643561ffff811681036104425790565b80600052600260205260ff6040600020541615610a98576000526001602052604060002090565b60405162461bcd60e51b815260206004820152602260248201527f4c697374696e6752656769737472793a206c697374696e67206e6f7420666f756044820152611b9960f21b6064820152608490fd5b9081602091031261044257516001600160a01b03811681036104425790565b604080516331a9108f60e11b815260048101839052602092906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000008116918581602481865afa908115610cbf5786918391600091610cca575b501693843314159485610c40575b5084610bcb575b50505050610b88575050565b60649250519062461bcd60e51b82526004820152601f60248201527f4c697374696e6752656769737472793a206e6f7420617574686f72697a6564006044820152fd5b9091929350602485518095819363020604bf60e21b835260048301525afa918215610c3557600092610c06575b501633141538808481610b7c565b610c27919250843d8611610c2e575b610c1f818361096e565b810190610ae8565b9038610bf8565b503d610c15565b83513d6000823e3d90fd5b9150935084519063e985e9c560e01b825260048201523360248201528581604481865afa908115610cbf57908691600091610c7f575b50159338610b75565b909181813d8311610cb8575b610c95818361096e565b81010312610cb45751908115158203610cb15750859038610c76565b80fd5b5080fd5b503d610c8b565b85513d6000823e3d90fd5b610ce19150833d8511610c2e57610c1f818361096e565b38610b6756fea2646970667358221220ef940844e8a9937a329d1ef6d308b3e971eb26c0a3822f79118d5ddf2649281064736f6c63430008180033",
  "deployedBytecode": "0x608080604052600436101561001357600080fd5b60003560e01c908163107a274a1461066757508063134e18f414610622578063809c232a146104475763ae5ab77a1461004b57600080fd5b34610442576101803660031901126104425767ffffffffffffffff6024358181116104425761007e903690600401610908565b919060e036604319011261044257606036610123190112610442576100a4600435610b07565b60005491600019831461042c576001830160005582600052600160205260406000209060043582558411610416576100df6001820154610990565b601f81116103cb575b5060209383916000601f831160011461033157826008610180937fe037f3b6e721a7839a663d6c3932805f786573c7319e054129a4eb6e9116b2049561ffff94600091610326575b508360011b906000198560031b1c19161760018201555b600281016001600160a01b0361015b6109eb565b82546001600160a01b03191691161790556064356003820155608435600482015560a43560058201556006810163ffffffff610195610a01565b169063ffffffff1991828254161781556101d26101b0610a14565b825467ffffffff00000000191660209190911b67ffffffff0000000016178255565b6101da610a4f565b815468ff0000000000000000191690151560401b68ff000000000000000016179055600782019063ffffffff61020e610a27565b16908254161781556102216101b0610a3b565b610229610a5f565b61ffff60401b82549160401b169061ffff60401b19161790550160ff19906001828254161790558560005260028952600160406000209182541617905563ffffffff6102736109eb565b968161027d610a01565b610285610a14565b8261028e610a4f565b9181610298610a27565b946102bd6102a4610a3b565b986102ad610a5f565b9b6040519e8f81815201916109ca565b6001600160a01b03909f1660208d015260643560408d015260843560608d015260a43560808d01521660a08b01521660c0890152151560e088015216610100860152166101208401521661014082015260016101608201526004359381900390a3604051908152f35b905088013538610130565b60018201600052866000209060005b601f19851681106103b157509260086101809361ffff937fe037f3b6e721a7839a663d6c3932805f786573c7319e054129a4eb6e9116b2049684601f19811610610397575b5050600183811b016001820155610147565b890135600019600386901b60f8161c191690553880610385565b868201358355879550600190920191908801908801610340565b600182016000526020600020601f860160051c8101916020871061040c575b601f0160051c01905b81811061040057506100e8565b600081556001016103f3565b90915081906103ea565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600080fd5b346104425760603660031901126104425767ffffffffffffffff6004356024358281116104425761047c903690600401610908565b9190604435928315158094036104425761049583610a71565b61049f8154610b07565b600195868201908311610416576104b68154610990565b601f81116105d7575b50600096601f841160011461054e578380917f89c673d999ebc8ce5b71c67287391e8f745769c11528a7b19a4709e4059897a2979899600093610543575b501b906000198560031b1c19161790555b6008810160ff1981541660ff881617905554946105386040519384936040855260408501916109ca565b9060208301520390a3005b87013592508a6104fd565b601f19841697826000526020906020600020916000905b8b82106105c0575050857f89c673d999ebc8ce5b71c67287391e8f745769c11528a7b19a4709e4059897a298999a106105a6575b505083811b01905561050e565b860135600019600387901b60f8161c191690558880610599565b808584958294958c01358155019401920190610565565b816000526020600020601f850160051c81019160208610610618575b601f0160051c019088905b82811061060c5750506104bf565b600081550188906105fe565b90915081906105f3565b34610442576000366003190112610442576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346104425760203660031901126104425760c081610686600093610936565b8281528260208201528260408201528260608201528260808201528260a082015201526000604080516106b881610952565b82815282602082015201526106ce600435610a71565b805490600190600181019060ff6008820154169160405180946000908354936106f685610990565b80855294600181169081156108e457506001146108a2575b505061072192509593949295038261096e565b6040519261072e84610936565b60018060a01b03600286015416845260038501546020850152600485015460408501526005850154606085015260ff600686015463ffffffff8116608087015263ffffffff8160201c1660a087015260401c16151560c085015261ffff60076040519661079a88610952565b015463ffffffff8116875263ffffffff8160201c16602088015260401c16604086015260405194859384526101a06020850152825192836101a086015260005b848110610889575050604061ffff9160c06101c097600089888a01015260018060a01b038151168489015260208101516060890152838101516080890152606081015160a089015263ffffffff6080820151168289015263ffffffff60a08201511660e08901520151151561010087015263ffffffff81511661012087015263ffffffff6020820151166101408701520151166101608401521515610180830152601f80199101168101030190f35b60208282018101516101c08a84010152889650016107da565b6000908152602081209092505b8483106108c957506107219350508101602001878061070e565b81935090816020925483858b010152019101909186926108af565b9150506020925061072194915060ff191682840152151560051b820101878061070e565b9181601f840112156104425782359167ffffffffffffffff8311610442576020838186019501011161044257565b60e0810190811067ffffffffffffffff82111761041657604052565b6060810190811067ffffffffffffffff82111761041657604052565b90601f8019910116810190811067ffffffffffffffff82111761041657604052565b90600182811c921680156109c0575b60208310146109aa57565b634e487b7160e01b600052602260045260246000fd5b91607f169161099f565b908060209392818452848401376000828201840152601f01601f1916010190565b6044356001600160a01b03811681036104425790565b60c43563ffffffff811681036104425790565b60e43563ffffffff811681036104425790565b6101243563ffffffff811681036104425790565b6101443563ffffffff811681036104425790565b6101043580151581036104425790565b6101643561ffff811681036104425790565b80600052600260205260ff6040600020541615610a98576000526001602052604060002090565b60405162461bcd60e51b815260206004820152602260248201527f4c697374696e6752656769737472793a206c697374696e67206e6f7420666f756044820152611b9960f21b6064820152608490fd5b9081602091031261044257516001600160a01b03811681036104425790565b604080516331a9108f60e11b815260048101839052602092906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000008116918581602481865afa908115610cbf5786918391600091610cca575b501693843314159485610c40575b5084610bcb575b50505050610b88575050565b60649250519062461bcd60e51b82526004820152601f60248201527f4c697374696e6752656769737472793a206e6f7420617574686f72697a6564006044820152fd5b9091929350602485518095819363020604bf60e21b835260048301525afa918215610c3557600092610c06575b501633141538808481610b7c565b610c27919250843d8611610c2e575b610c1f818361096e565b810190610ae8565b9038610bf8565b503d610c15565b83513d6000823e3d90fd5b9150935084519063e985e9c560e01b825260048201523360248201528581604481865afa908115610cbf57908691600091610c7f575b50159338610b75565b909181813d8311610cb8575b610c95818361096e565b81010312610cb45751908115158203610cb15750859038610c76565b80fd5b5080fd5b503d610c8b565b85513d6000823e3d90fd5b610ce19150833d8511610c2e57610c1f818361096e565b38610b6756fea2646970667358221220ef940844e8a9937a329d1ef6d308b3e971eb26c0a3822f79118d5ddf2649281064736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
